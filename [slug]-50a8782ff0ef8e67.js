(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{9104:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return t(49120)}])},71826:function(e,n,t){"use strict";t.d(n,{Q:function(){return c}});var r=t(26042),i=t(69396),o=t(85893),a=t(10894);function c(e){return(0,o.jsx)(a.JO,(0,i.Z)((0,r.Z)({viewBox:"0 0 20 20",color:"gray.500"},e),{children:(0,o.jsx)("path",{d:"M17 2H15V1C15 0.734784 14.8946 0.48043 14.7071 0.292893C14.5196 0.105357 14.2652 0 14 0C13.7348 0 13.4804 0.105357 13.2929 0.292893C13.1054 0.48043 13 0.734784 13 1V2H7V1C7 0.734784 6.89464 0.48043 6.70711 0.292893C6.51957 0.105357 6.26522 0 6 0C5.73478 0 5.48043 0.105357 5.29289 0.292893C5.10536 0.48043 5 0.734784 5 1V2H3C2.20435 2 1.44129 2.31607 0.87868 2.87868C0.316071 3.44129 0 4.20435 0 5V17C0 17.7956 0.316071 18.5587 0.87868 19.1213C1.44129 19.6839 2.20435 20 3 20H17C17.7956 20 18.5587 19.6839 19.1213 19.1213C19.6839 18.5587 20 17.7956 20 17V5C20 4.20435 19.6839 3.44129 19.1213 2.87868C18.5587 2.31607 17.7956 2 17 2ZM18 17C18 17.2652 17.8946 17.5196 17.7071 17.7071C17.5196 17.8946 17.2652 18 17 18H3C2.73478 18 2.48043 17.8946 2.29289 17.7071C2.10536 17.5196 2 17.2652 2 17V10H18V17ZM18 8H2V5C2 4.73478 2.10536 4.48043 2.29289 4.29289C2.48043 4.10536 2.73478 4 3 4H5V5C5 5.26522 5.10536 5.51957 5.29289 5.70711C5.48043 5.89464 5.73478 6 6 6C6.26522 6 6.51957 5.89464 6.70711 5.70711C6.89464 5.51957 7 5.26522 7 5V4H13V5C13 5.26522 13.1054 5.51957 13.2929 5.70711C13.4804 5.89464 13.7348 6 14 6C14.2652 6 14.5196 5.89464 14.7071 5.70711C14.8946 5.51957 15 5.26522 15 5V4H17C17.2652 4 17.5196 4.10536 17.7071 4.29289C17.8946 4.48043 18 4.73478 18 5V8Z",fill:"currentColor"})}))}},29906:function(e,n,t){"use strict";t.d(n,{L:function(){return v}});var r=t(26042),i=t(69396),o=t(85893),a=t(79762),c=t(68527),s=t(4612),u=t(87536),l=t(57333),d=t(34440),p=t(77037),f=t(67294),v=(0,f.forwardRef)((function(e,n){var t=e.name,v=e.label,h=e.size,m=void 0===h?"lg":h,x=e.fontSize,g=void 0===x?"1rem":x,w=e.bgColor,b=e.backgroundColor,C=e.addonProps,y=void 0===C?{}:C,_=e.placeholder,k=void 0===_?"":_,j=e.optional,S=void 0!==j&&j,Z=e.notAllowDecimal,N=void 0!==Z&&Z,R=(0,u.bc)({name:t}),z=R.field,O=z.ref,L=z.onChange,I=z.value,H=R.fieldState,V=H.error,T=H.invalid,A=(0,f.useRef)(null);return(0,f.useImperativeHandle)(n,(function(){return{focus:function(){var e;null===A||void 0===A||null===(e=A.current)||void 0===e||e.focus()}}}),[]),(0,o.jsxs)(a.NI,{isInvalid:!!V||T,ref:O,children:[(0,o.jsxs)(c.kC,{justifyContent:"space-between",alignItems:"center",children:[!!v&&(0,o.jsx)(p._,{htmlFor:t,children:v}),S&&(0,o.jsx)(d.F,{})]}),(0,o.jsxs)(s.BZ,{bgColor:w||b||"transparent",size:m,fontSize:g,borderRadius:"0.75rem",borderColor:T||V?"yellow.500":"gray.200",alignItems:"center",_hover:{borderColor:"gray.300"},_focusWithin:{borderColor:"gray.200"},children:[(0,o.jsx)(s.Ui,(0,i.Z)((0,r.Z)({fontSize:"inherit",fontWeight:"500",borderWidth:"2px",borderRight:"none",borderColor:"inherit",borderRadius:"inherit",bgColor:"transparent",color:"gray.400"},y),{children:"R$"})),(0,o.jsx)(s.II,{getInputRef:A,fontSize:"inherit",fontWeight:"500",color:"gray.700",paddingInlineStart:0,borderRadius:"inherit",borderColor:"inherit",borderWidth:"2px",borderLeft:"none",as:l.Z,id:t,name:t,allowNegative:!1,thousandSeparator:".",decimalScale:N?0:2,decimalSeparator:",",isNumericString:!0,placeholder:k,value:I,onValueChange:function(e){return L(e.value)},_focus:{boxShadow:"none"},_hover:{boxShadow:"none"},_invalid:{}})]}),(0,o.jsx)(a.J1,{color:"yellow.500",children:null===V||void 0===V?void 0:V.message})]})}));v.displayName="CurrencyInput"},77037:function(e,n,t){"use strict";t.d(n,{_:function(){return c}});var r=t(26042),i=t(99534),o=t(85893),a=t(79762);function c(e){var n=e.htmlFor,t=(0,i.Z)(e,["htmlFor"]);return(0,o.jsx)(a.lX,(0,r.Z)({htmlFor:n,m:"0",color:"gray.500",fontSize:"sm",lineHeight:"1.5rem",fontWeight:"500"},t))}},34440:function(e,n,t){"use strict";t.d(n,{F:function(){return o}});var r=t(85893),i=t(68527);function o(){return(0,r.jsx)(i.xv,{position:"absolute",top:"0",right:"0",lineHeight:"1.5rem",fontSize:"0.625rem",fontWeight:"500",color:"gray.400",children:"Opcional"})}},96173:function(e,n,t){"use strict";t.d(n,{Y:function(){return l}});var r=t(26042),i=t(99534),o=t(85893),a=t(68527),c=t(34651),s=t(67294),u=t(60400);function l(e){var n=e.type,t=e.url,a=(0,i.Z)(e,["type","url"]);switch(n){case u.o.IMAGE:return(0,o.jsx)(d,(0,r.Z)({type:n,url:t},a));case u.o.YT_VIDEO:return(0,o.jsx)(p,(0,r.Z)({type:n,url:t},a));case u.o.YT_SHORT:return(0,o.jsx)(f,(0,r.Z)({type:n,url:t},a));default:return null}}function d(e){var n=e.url,t=(0,s.useState)(null),r=t[0],i=t[1];return(0,s.useEffect)((function(){return n&&i("string"===typeof n?n:URL.createObjectURL(n)),function(){return i(null)}}),[n]),r?(0,o.jsx)(a.oM,{ratio:62/35,children:(0,o.jsxs)(a.M5,{w:"full",h:"full",position:"relative",children:[(0,o.jsx)(c.Ee,{alt:"",src:r,onLoad:function(){return URL.revokeObjectURL(r)},zIndex:1,width:"auto",height:"full"}),(0,o.jsx)(a.xu,{"aria-hidden":!0,position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url('".concat(r,"')"),filter:"blur(8px)",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"})]})}):null}function p(e){var n=e.url;return(0,o.jsx)(a.oM,{ratio:62/35,bgColor:"gray.100",borderRadius:"md",children:(0,o.jsx)("iframe",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:n,title:"",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}function f(e){var n=e.url;return(0,o.jsx)(a.oM,{ratio:62/35,bgColor:"gray.100",borderRadius:"md",children:(0,o.jsx)("iframe",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:n,title:"",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}},3167:function(e,n,t){"use strict";t.d(n,{S:function(){return k}});var r=t(26042),i=t(99534),o=t(85893),a=t(68527),c=t(20495),s=t(96173),u=t(47568),l=t(29815),d=t(34051),p=t.n(d),f=t(15193),v=t(10894),h=t(67294),m=t(8193),x=t(83276),g=t(81649),w=t(76626);function b(e){var n=e.likes,t=e.news_id,r=(0,x.a)().user,i=(0,h.useState)(null!==n&&void 0!==n?n:[]),a=i[0],c=i[1],s=(0,h.useMemo)((function(){return a.includes(null===r||void 0===r?void 0:r.id)}),[a,r]);(0,h.useEffect)((function(){return t&&w.h.get("news/".concat(t,"/likers")).then((function(e){var n=e.data;return c(n.data)})),function(){return c([])}}),[t]);var d=(0,g.i)((0,u.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=7;break}return c((function(e){return e.filter((function(e){return e!==r.id}))})),e.next=5,w.h.delete("news/".concat(t,"/like"));case 5:e.next=10;break;case 7:return c((function(e){return(0,l.Z)(e).concat([r.id])})),e.next=10,w.h.post("news/".concat(t,"/like"));case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])}))));return(0,o.jsx)(f.zx,{variant:"ghost",fontWeight:"400",fontSize:"1.125rem",width:"min-content",onClick:d,leftIcon:(0,o.jsx)(v.JO,{mt:"-3px",color:"pink.600",fontSize:"1.5rem",as:s?m.M_L:m.lo}),children:a.length>0?"".concat(a.length," ").concat(1===a.length?"Curtida":"Curtidas"):"Curtir"})}function C(e){var n=e.id,t=e.title,u=e.images,l=e.description,d=e.created_at,p=(0,i.Z)(e,["id","title","images","description","created_at"]),f=(0,c.T)(d);return(0,o.jsxs)(a.xu,{as:"article",display:"flex",flexDirection:"column",children:[(0,o.jsx)(a.X6,{as:"h3",fontSize:"1.5rem",lineHeight:"1.6",color:"gray.700",children:t}),(0,o.jsx)(a.xv,{as:"time",fontSize:"0.875rem",color:"gray.500",mb:"0.75rem",children:f[0].toUpperCase()+f.substring(1)}),null===u||void 0===u?void 0:u.map((function(e){return(0,o.jsx)(s.Y,(0,r.Z)({},e),e.id)})),(0,o.jsx)(a.xu,{fontSize:"18px",lineHeight:"30px",my:"0.3333rem",whiteSpace:"pre-line",__css:{a:{textDecoration:"underline",color:"pink.600"},".ql-align-justify":{textAlign:"justify"},".ql-align-center":{textAlign:"center"},".ql-align-right":{textAlign:"right"}},dangerouslySetInnerHTML:{__html:l}}),"likes"in p&&(0,o.jsx)(b,{likes:p.likes,news_id:n})]})}var y=t(54107);function _(e){e.isLoading;return(0,o.jsxs)(a.xu,{as:"article",display:"flex",flexDirection:"column",children:[(0,o.jsx)(y.N2,{noOfLines:2,as:"h3",fontSize:"1.5rem",lineHeight:"1.6"}),(0,o.jsx)(y.N2,{maxW:"6rem",noOfLines:1,as:"time",fontSize:"0.875rem",color:"gray.500",my:"0.75rem"}),(0,o.jsx)(y.Od,{mb:"0.75rem",borderRadius:"md",children:(0,o.jsx)(a.oM,{ratio:62/35,bgColor:"gray.100",borderRadius:"md",children:(0,o.jsx)(a.xu,{})})}),(0,o.jsx)(y.N2,{noOfLines:6,fontSize:"18px",lineHeight:"30px",my:"0.3333rem"})]})}function k(e){var n=e.isLoading,t=(0,i.Z)(e,["isLoading"]);return n?(0,o.jsx)(_,{isLoading:!0}):(0,o.jsx)(C,(0,r.Z)({},t))}},73205:function(e,n,t){"use strict";t.d(n,{n:function(){return Z}});var r=t(47568),i=t(82670),o=t(26042),a=t(99534),c=t(29815),s=t(34051),u=t.n(s),l=t(67294),d=t(12902),p=t(97375),f=t(40782),v=t(18469),h=t(50792);function m(e,n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(u().mark((function e(n,t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,v.R)(),e.prev=1,e.next=4,r.get("/campaigns/".concat(n,"/news"),{params:t});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e.catch(1),new h.g(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var g=t(9669),w=t.n(g);function b(e){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(u().mark((function e(n){var t,r,i,o,a,c,s,l,d,p,f,m,x,g,b,C,y,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.campaign_id,r=n.title,i=n.description,o=n.cover,a=(0,v.R)(void 0),e.prev=2,e.next=5,a.post("/campaigns/".concat(t,"/news"),{title:r,description:i});case 5:if(c=e.sent,s=c.data,!o){e.next=37;break}return e.next=11,a.patch("/campaigns/".concat(t,"/news/").concat(s.data.id,"/cover"),{media_type:o.type,file_type:o.source.type,video_id:null!==(l=null===o||void 0===o?void 0:o.video_id)&&void 0!==l?l:null});case 11:d=e.sent,p=d.data,f=!0,m=!1,x=void 0,e.prev=14,g=p.data[Symbol.iterator]();case 16:if(f=(b=g.next()).done){e.next=23;break}return C=b.value.url,e.next=20,w().put(C,o.source,{headers:{"Content-Type":o.source.type,"Content-Length":o.source.size}});case 20:f=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(14),m=!0,x=e.t0;case 29:e.prev=29,e.prev=30,f||null==g.return||g.return();case 32:if(e.prev=32,!m){e.next=35;break}throw x;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.next=39,a.get("/campaigns/".concat(t,"/news/").concat(s.data.id));case 39:return y=e.sent,_=y.data,e.abrupt("return",_.data);case 44:throw e.prev=44,e.t1=e.catch(2),new h.g(e.t1);case 47:case"end":return e.stop()}}),e,null,[[2,44],[14,25,29,37],[30,,32,36]])})))).apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(u().mark((function e(n){var t,r,i,o,a,c,s,l,d,p,f,m,x,g,b,C;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.campaign_id,r=n.news_id,i=n.title,o=n.description,a=n.cover,c=(0,v.R)(),e.prev=2,e.next=5,c.put("/campaigns/".concat(t,"/news/").concat(r),{title:i,description:o});case 5:if(!a){e.next=34;break}return e.next=8,c.patch("/campaigns/".concat(t,"/news/").concat(r,"/cover"),{media_type:a.type,file_type:a.source.type,video_id:null===a||void 0===a?void 0:a.video_id});case 8:s=e.sent,l=s.data,d=!0,p=!1,f=void 0,e.prev=11,m=l.data[Symbol.iterator]();case 13:if(d=(x=m.next()).done){e.next=20;break}return g=x.value.url,e.next=17,w().put(g,a.source,{headers:{"Content-Type":a.source.type,"Content-Length":a.source.size}});case 17:d=!0,e.next=13;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(11),p=!0,f=e.t0;case 26:e.prev=26,e.prev=27,d||null==m.return||m.return();case 29:if(e.prev=29,!p){e.next=32;break}throw f;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.next=36,c.get("/campaigns/".concat(t,"/news/").concat(r));case 36:return b=e.sent,C=b.data,e.abrupt("return",C.data);case 41:throw e.prev=41,e.t1=e.catch(2),new h.g(e.t1);case 44:case"end":return e.stop()}}),e,null,[[2,41],[11,22,26,34],[27,,29,33]])})))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(u().mark((function e(n){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.campaign_id,r=n.news_id,i=(0,v.R)(),e.prev=2,e.next=5,i.delete("/campaigns/".concat(t,"/news/").concat(r));case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new h.g(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}var S=t(84606);function Z(e){var n=e.initialNews,t=void 0===n?[]:n,s=(0,a.Z)(e,["initialNews"]),v=(0,l.useMemo)((function(){return s.campaign_id}),[s.campaign_id]),h=(0,l.useRef)(null),x=(0,l.useRef)(null),g=(0,l.useState)(null===t||void 0===t?void 0:t.sort((function(e,n){return new Date(n.created_at).getTime()-new Date(e.created_at).getTime()}))),w=g[0],C=g[1],_=(0,l.useState)(!1),j=_[0],Z=_[1],N=(0,l.useCallback)((0,r.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,Z(!0),e.next=6,m(v);case 6:return n=e.sent,C(n.news),e.abrupt("return",n.news);case 11:e.prev=11,e.t0=e.catch(2),(0,S.S)(e.t0);case 14:return e.prev=14,Z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])}))),[v]),R=(0,p.qY)(),z=R.isOpen,O=R.onOpen,L=R.onClose,I=(0,l.useCallback)((function(e){(null===e||void 0===e?void 0:e.id)&&(h.current=e),O()}),[O]),H=(0,l.useCallback)((function(){h.current=null,L()}),[L]),V=(0,p.qY)(),T=V.isOpen,A=V.onOpen,E=V.onClose,M=(0,l.useCallback)((function(e){(null===e||void 0===e?void 0:e.id)&&(x.current=e),A()}),[A]),D=(0,l.useCallback)((function(){x.current=null,E()}),[E]),F=(0,l.useCallback)(function(){var e=(0,r.Z)(u().mark((function e(n){var t,r,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.title,r=n.description,a=n.cover,s=f.Am.loading("Criando a novidade..."),e.prev=2,e.next=5,b((0,o.Z)({campaign_id:v,title:t,description:r},(0,i.Z)(null===a||void 0===a?void 0:a.source,File)&&{cover:a}));case 5:l=e.sent,f.Am.update(s,{render:"Novidade criada com sucesso.",type:"success",isLoading:!1,autoClose:5e3}),C((function(e){return[l].concat((0,c.Z)(e))})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),f.Am.dismiss(s),(0,S.S)(e.t0);case 14:return e.prev=14,H(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(n){return e.apply(this,arguments)}}(),[v,H]),W=(0,l.useCallback)(function(){var e=(0,r.Z)(u().mark((function e(n){var t,r,a,c,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.title,r=n.cover,a=n.description,c=f.Am.loading("Altualizando novidade..."),e.prev=2,e.next=5,y((0,o.Z)({campaign_id:v,news_id:h.current.id,title:t,description:a},(0,i.Z)(null===r||void 0===r?void 0:r.source,File)&&{cover:r}));case 5:s=e.sent,f.Am.update(c,{render:"Novidade atualizada com sucesso!",type:"success",isLoading:!1,autoClose:5e3}),C((function(e){var n=e.findIndex((function(e){return e.id===s.id}));return n>=0&&(e[n]=(0,o.Z)({},s)),e})),H(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),f.Am.update(c,{render:"N\xe3o foi poss\xedvel atualizar a novidade.",type:"error",isLoading:!1,autoClose:5e3});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}(),[v,H]),Y=(0,l.useCallback)((0,r.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.current.id,e.prev=1,e.next=4,f.Am.promise(k({campaign_id:v,news_id:n}),{pending:"Removendo novidade...",error:"N\xe3o foi poss\xedvel remover a novidade!",success:"Novidade removida com sucesso!"});case 4:C((function(e){return e.filter((function(e){return e.id!==n}))})),D(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])}))),[v,D]),P=(0,l.useCallback)(function(){var e=(0,r.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C((function(e){return(0,d.ZP)(e,(function(e){var t=e.findIndex((function(e){return e.id===n}));return t>=0&&(e[t].published_at=(new Date).toISOString()),e}))}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return{newsToEdit:h.current,isOpenNewsForm:z,onOpenNewsForm:I,onCloseNewsForm:H,newsToRemove:x.current,isOpenNewsRemoveDialog:T,onOpenNewsRemoveDialog:M,onCloseNewsRemoveDialog:D,news:w,isLoading:j,loadNews:N,handleCreateNews:F,handleEditNews:W,handleRemoveNews:Y,handlePublishNews:P}}},49120:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return a},default:function(){return c}});var r=t(26042),i=t(85893),o=t(71441),a=!0;function c(e){return(0,i.jsx)(o.D,(0,r.Z)({},e))}},60400:function(e,n,t){"use strict";var r;t.d(n,{o:function(){return r}}),function(e){e.IMAGE="image",e.YT_SHORT="yt_short",e.YT_VIDEO="yt_video"}(r||(r={}))}},function(e){e.O(0,[5937,1228,2013,4617,3874,6556,5445,8149,5758,7536,9491,7333,2298,7762,720,1024,6848,1154,9197,1935,2746,3969,1441,9774,2888,179],(function(){return n=9104,e(e.s=n);var n}));var n=e.O();_N_E=n}]);